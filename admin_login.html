<!DOCTYPE html>
<html lang="en" >
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Food Rescue PH</title>
		<link rel = "stylesheet" href = "css/admin_login.css">
		<link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/jquery.validate.min.js"></script>
	</head>
	<body>

		<!-----ADMIN LOGIN----->

		<div class = "center">

		<div class = "login_container">
			<img class = "login_img" src = "images/foodph.png" >
		</div>

		<div class = "login_credentials">
				<input class = "login_email" id="logInput" type="text" required name="text" placeholder="Email Address">
				<input class = "login_password" id="pwInput" type="password" required name="password" placeholder="Password">
		
				<div class = "forgot_pass">
					<button class="btn_forgot"><a href="admin_email.html">Forgot Password?</a></button>
			    </div>

				<button class="login_btn" id="login" type="submit">LOGIN</button>
		</div>

		</div>
		
		<!-----ADMIN LOGIN----->


		<!-----FIREBASE----->

		<script type="module">
  			// Import the functions you need from the SDKs you need
  			import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.4/firebase-app.js";
  			import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.9.4/firebase-analytics.js";
  			import { getAuth, signInWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.9.4/firebase-auth.js";

  			const firebaseConfig = {
    			apiKey: "AIzaSyCfwQ5G2TPE4gZqEHPtvRv1Ew1o3M-ndP4",
    			authDomain: "byete-hunger-application.firebaseapp.com",
    			databaseURL: "https://byete-hunger-application-default-rtdb.firebaseio.com",
    			projectId: "byete-hunger-application",
    			storageBucket: "byete-hunger-application.appspot.com",
    			messagingSenderId: "791717154010",
    			appId: "1:791717154010:web:d49d5dc2cb908a7ae5e9e3",
    			measurementId: "G-KE1ZL9NVFG"
  			};

  			const app = initializeApp(firebaseConfig);
  			const analytics = getAnalytics(app);
  			const auth = getAuth(app);

  			document.getElementById("login").addEventListener('click' , function(){

  				const email = document.getElementById("logInput").value;
  				const password = document.getElementById("pwInput").value;

  				signInWithEmailAndPassword(auth, email, password)
  				.then((userCredential) => {
  					const user = userCredential.user;
  				})
  				.catch((error) => {
  					window.alert("Login error! Please input a valid Email or Password!");
  				});
  				
  			});

  			onAuthStateChanged(auth, (user) => {
				if (user) {
					console.log("User has logged in.");
					location.replace("dashboard.html")
				} else {
					
				}
			});

		</script>

		<!-----FIREBASE----->
		
	</body>
</html>